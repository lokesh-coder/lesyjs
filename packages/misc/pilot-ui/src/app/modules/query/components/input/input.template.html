<div [formGroup]="form">
  <div class="">
    <label
      *ngIf="question.controlType != 'checkbox'"
      [attr.for]="question.key"
      class="text-gray-600 mb-3 block"
      >{{ (question.label || question.key)|title }}
      <span *ngIf="!isValid" class="text-red-500">*</span></label
    >
    <div [ngSwitch]="question.controlType">
      <div
        class="flex flex-wrap items-stretch w-full mb-4 relative focus-within:border-gray-600 border border-gray-400 bg-gray-100 rounded-md"
        *ngSwitchCase="'textbox'"
      >
        <div class="flex">
          <span
            class="flex items-center leading-normal bg-gray-lighter rounded rounded-r-none px-2 whitespace-no-wrap text-grey-dark text-sm"
            ><i class="ri-keyboard-box-fill text-2xl text-gray-500"></i
          ></span>
        </div>
        <input
          class="flex-shrink flex-grow flex-auto leading-normal w-px flex-1 border-0 h-10 rounded rounded-l-none pl-0 pr-2 relative outline-none bg-gray-100 font-semibold"
          [placeholder]="question.label"
          [formControlName]="question.key"
          [id]="question.key"
          [type]="question.type"
        />
      </div>

      <select
        [id]="question.key"
        *ngSwitchCase="'dropdown'"
        [formControlName]="question.key"
        class="form-control"
      >
        <option *ngFor="let opt of question.options" [value]="opt.key"
          >{{ opt.value }}</option
        >
      </select>

      <div class="py-4" *ngSwitchCase="'checkbox'">
        <div class="pretty p-default p-curve p-thick">
          <input
            type="checkbox"
            [id]="question.key"
            [formControlName]="question.key"
            [value]="question.key"
          />
          <div class="state p-success-o">
            <label>{{ question.label || question.key }}</label>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
